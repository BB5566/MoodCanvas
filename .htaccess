# .htaccess - Rewrite all requests to /public/
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # Deny direct access to .env and other dotfiles
    <FilesMatch "^\.(env|env\..*|git)" >
        Require all denied
    </FilesMatch>

    # If the request is for an existing file or directory, do nothing
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # Rewrite all other requests to public/index.php
    RewriteRule ^(.*)$ public/index.php [L,QSA]
</IfModule>

# If Apache does not support rewrite, you can fallback to index.php which redirects to public/
FallbackResource /index.php
